#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define ERROR 0
#define OK 1

void mostrar_menu(void);
int verificar_txt(char *);
int escanear_archivo(char *, FILE*);
void guardar(int, char *, FILE*);
int automata(char *);
int mostrar_consigna(FILE*);

int main() {
	FILE *archivo;
	archivo = fopen("RESULTADOS.txt", "wt");
	if (mostrar_consigna(archivo)){
	}
	else{
	}
	fclose(archivo);
	return 0;
}

int mostrar_consigna(FILE * archivoSalida){
	char archivo1[20];
	scanf("%s", archivo1);
	verificar_txt(archivo1);
	return escanear_archivo(archivo1, archivoSalida);
}

int escanear_archivo(){
	
}

int verificar_txt(char *archivo3){
	if (strstr(archivo3, ".txt") == NULL){
		strcat(archivo3, ".txt");
	}
}

int automata(char *cadena1){
	int len = 0, inicio = 0, recorrido = 0;
	int automata[7][6]={{2,1,1,6,6,6},{1,1,1,6,6,6},{5,5,6,3,6,6},{4,4,4,6,4,6},{4,4,4,6,4,6},{5,5,6,6,6,6},{6,6,6,6,6,6}};
	while(cadena1[len] != '\0'){
		if(cadena1[len] == '0'){
			recorrido = 0;
		}
		else if(cadena1[len]>='1' && cadena1[len]<='7'){
			recorrido = 1;
		}
		else if(cadena1[len]=='8' || cadena1[len]=='9'){
			recorrido = 2;
		}
		else if(cadena1[len]>='x' || cadena1[len]<='X'){
			recorrido = 3;
		}
		else if((cadena1[len]>='a' && cadena1[len]<='f') || (cadena1[len]>='A' && cadena1[len]<='F')){
			recorrido = 4;
		}
		else{
			recorrido = 5;
		}
		inicio = automata[inicio][recorrido];
		len++;
	}
	return inicio;
}

void guardar(int base, char *cadena2, FILE* archivoSalida1){
	fputs(cadena2, archivoSalida1);
	switch(base){
		case 2:
		case 5:
			fputs(" - OCTAL\n", archivoSalida1);
			break;	
		case 1:
			fputs(" - DECIMAL\n", archivoSalida1);
			break;
		case 4:
			fputs(" - HEXADECIMAL\n", archivoSalida1);
			break;	
		case 0: 
			fputs(" - PALABRA NULA\n", archivoSalida1);
			break;	
		default:
			fputs(" - INCORRECTO\n", archivoSalida1);
	}
}
